{
  "id": "snapshot_1771866437854_yc2m4g1e1",
  "approvalId": "approval_1771866420626_2glo4h3ij",
  "approvalTitle": "Tasks: 8タスク（リネーム・参照更新・ドキュメント作成・README整理）",
  "version": 2,
  "timestamp": "2026-02-23T17:07:17.854Z",
  "trigger": "approved",
  "status": "pending",
  "content": "# Tasks Document\n\n- [ ] 1. `.github/composite/` を `.github/actions/` にリネーム\n  - Files: `.github/composite/` → `.github/actions/`\n  - `git mv .github/composite .github/actions` でディレクトリを移動\n  - Git 履歴を保持すること\n  - Purpose: Composite Actions のディレクトリパスを GitHub Actions の慣習に沿った名前に変更\n  - _Requirements: 1.1, 1.2_\n  - _Prompt: Implement the task for spec rename-composite-and-create-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: DevOps Engineer specializing in Git operations and GitHub Actions | Task: `git mv .github/composite .github/actions` を実行して Composite Actions ディレクトリをリネームする。Requirements 1.1, 1.2 に従い、4つの Composite Actions（pnpm-setup, playwright-setup, slack-notify-success, slack-notify-failure）がすべて `.github/actions/` 配下に存在することを確認する | Restrictions: 必ず `git mv` を使用し Git 履歴を保持すること。削除→新規作成は禁止 | Success: `.github/actions/` に4つの action.yml が存在し、`.github/composite/` が存在しないこと。tasks.md でタスクを [-] に更新してから作業開始し、完了後 log-implementation で記録、[x] に更新すること_\n\n- [ ] 2. 参照ファイルの一括更新（`.github/composite` → `.github/actions`）\n  - Files: `.ls-lint.yml`, `CLAUDE.md`, `README.md`, `docs/adr/004-composite-actions-support.md`\n  - 上記ファイル内の `.github/composite` への全参照を `.github/actions` に置換\n  - Purpose: リネームに伴うパス参照の整合性を維持\n  - _Leverage: 既存ファイルの参照パターン（Design ドキュメントの参照更新一覧を参照）_\n  - _Requirements: 1.3, 1.4, 1.5, 1.6_\n  - _Prompt: Implement the task for spec rename-composite-and-create-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: DevOps Engineer specializing in codebase maintenance | Task: 以下のファイル内の `.github/composite` を `.github/actions` に一括置換する。(1) `.ls-lint.yml`: `.github/composite:` → `.github/actions:` (2) `CLAUDE.md`: 3箇所（ディレクトリ構成、使い分け、actionlint非互換） (3) `README.md`: uses: パス等の全箇所 (4) `docs/adr/004-composite-actions-support.md`: 決定事項・結果の全箇所。Requirements 1.3-1.6 に従う | Restrictions: ファイル内容の意味を変えないこと。パス参照のみ置換する | Success: 4ファイルすべてで `.github/composite` の参照が0件になること。tasks.md でタスクを [-] に更新してから作業開始し、完了後 log-implementation で記録、[x] に更新すること_\n\n- [ ] 3. Serena memories の更新\n  - Files: `.serena/memories/codebase_structure`, `.serena/memories/style_and_conventions`, `.serena/memories/task_completion_checklist`\n  - `.github/composite` → `.github/actions` の参照を更新\n  - Purpose: Serena のプロジェクトメモリをリネーム後の状態に同期\n  - _Requirements: 1.7_\n  - _Prompt: Implement the task for spec rename-composite-and-create-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: DevOps Engineer | Task: Serena memories 内の `.github/composite` 参照を `.github/actions` に更新する。対象: codebase_structure, style_and_conventions, task_completion_checklist。edit_memory ツールを使用する | Restrictions: メモリの構造や他の情報を変更しないこと | Success: 3つのメモリファイルすべてで `.github/composite` の参照が0件になること。tasks.md でタスクを [-] に更新してから作業開始し、完了後 log-implementation で記録、[x] に更新すること_\n\n- [ ] 4. `.github/workflows/docs/` に Reusable Workflow 詳細ドキュメントを作成\n  - Files: `.github/workflows/docs/actions-lint.md`, `.github/workflows/docs/auto-assign-pr.md`, `.github/workflows/docs/codeql-analysis.md`, `.github/workflows/docs/tagpr-release.md`\n  - 各 Reusable Workflow の詳細リファレンスドキュメントを作成\n  - 各ドキュメントに概要・トリガー・inputs・secrets・outputs・permissions・前提条件・使用例を記載\n  - Purpose: 各 Reusable Workflow の詳細な使い方ドキュメントを提供\n  - _Leverage: 各 `.github/workflows/*.yml` ファイルの内容、Design ドキュメントの Component 4 の構造_\n  - _Requirements: 3.1, 3.2, 3.3_\n  - _Prompt: Implement the task for spec rename-composite-and-create-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: テクニカルライター兼 GitHub Actions 専門家 | Task: `.github/workflows/docs/` ディレクトリを作成し、4つの Reusable Workflow の詳細ドキュメントを作成する。各 YAML ファイルから inputs/secrets/outputs/permissions を読み取り、Design ドキュメントの Component 4 の構造に従って記述する。日本語で記述し、コードサンプル・技術用語は英語のまま。uses: パスの例示はメジャータグ（@v1）で記載 | Restrictions: 内部 CI ワークフロー（my-*）のドキュメントは作成しない。YAML ファイルに記載されていない情報を推測で追加しない | Success: 4つの .md ファイルが存在し、各ファイルに概要・トリガー・inputs テーブル・permissions・前提条件・使用例が含まれること。tasks.md でタスクを [-] に更新してから作業開始し、完了後 log-implementation で記録、[x] に更新すること_\n\n- [ ] 5. `.github/actions/docs/` に Composite Action 詳細ドキュメントを作成\n  - Files: `.github/actions/docs/pnpm-setup.md`, `.github/actions/docs/playwright-setup.md`, `.github/actions/docs/slack-notify-success.md`, `.github/actions/docs/slack-notify-failure.md`\n  - 各 Composite Action の詳細リファレンスドキュメントを作成\n  - 各ドキュメントに概要・inputs・前提条件・使用例を記載\n  - Purpose: 各 Composite Action の詳細な使い方ドキュメントを提供\n  - _Leverage: 各 `.github/actions/*/action.yml` ファイルの内容（リネーム後のパス）、Design ドキュメントの Component 5 の構造_\n  - _Requirements: 4.1, 4.2, 4.3_\n  - _Prompt: Implement the task for spec rename-composite-and-create-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: テクニカルライター兼 GitHub Actions 専門家 | Task: `.github/actions/docs/` ディレクトリを作成し、4つの Composite Action の詳細ドキュメントを作成する。各 action.yml から inputs を読み取り、Design ドキュメントの Component 5 の構造に従って記述する。日本語で記述し、コードサンプル・技術用語は英語のまま。uses: パスは `.github/actions/` パスでメジャータグ（@v1）を使用 | Restrictions: action.yml に記載されていない情報を推測で追加しない | Success: 4つの .md ファイルが存在し、各ファイルに概要・inputs テーブル・前提条件・使用例が含まれること。tasks.md でタスクを [-] に更新してから作業開始し、完了後 log-implementation で記録、[x] に更新すること_\n\n- [ ] 6. `.github/workflows/README.md` を作成\n  - File: `.github/workflows/README.md`\n  - Reusable Workflows 一覧（簡単な説明 + docs/ へのリンク）と Internal CI Workflows 一覧を記載\n  - Purpose: Workflows ディレクトリの一覧ページを提供\n  - _Leverage: Design ドキュメントの Component 2 の構造、タスク4で作成した docs/*.md_\n  - _Requirements: 2.1_\n  - _Prompt: Implement the task for spec rename-composite-and-create-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: テクニカルライター | Task: `.github/workflows/README.md` を作成する。Design ドキュメントの Component 2 の構造に従い、(1) Reusable Workflows 一覧テーブル（名前・説明・詳細ドキュメントへの相対リンク）(2) 簡潔な uses: 書式説明 (3) Internal CI Workflows 一覧テーブル（ワークフロー名・トリガー・呼び出し先・説明）を含める。日本語で記述 | Restrictions: 各 Workflow の詳細な inputs/secrets 情報は含めない（詳細ドキュメントに委譲） | Success: README.md が存在し、全 Reusable Workflow への docs/ リンクと Internal CI 一覧が含まれること。tasks.md でタスクを [-] に更新してから作業開始し、完了後 log-implementation で記録、[x] に更新すること_\n\n- [ ] 7. `.github/actions/README.md` を作成\n  - File: `.github/actions/README.md`\n  - Composite Actions 一覧（簡単な説明 + docs/ へのリンク）を記載\n  - Purpose: Actions ディレクトリの一覧ページを提供\n  - _Leverage: Design ドキュメントの Component 3 の構造、タスク5で作成した docs/*.md_\n  - _Requirements: 2.2_\n  - _Prompt: Implement the task for spec rename-composite-and-create-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: テクニカルライター | Task: `.github/actions/README.md` を作成する。Design ドキュメントの Component 3 の構造に従い、(1) Composite Actions 一覧テーブル（名前・説明・詳細ドキュメントへの相対リンク）(2) 簡潔な uses: 書式説明を含める。日本語で記述 | Restrictions: 各 Action の詳細な inputs 情報は含めない（詳細ドキュメントに委譲） | Success: README.md が存在し、全 Composite Action への docs/ リンクが含まれること。tasks.md でタスクを [-] に更新してから作業開始し、完了後 log-implementation で記録、[x] に更新すること_\n\n- [ ] 8. ルート `README.md` のリファクタリング\n  - File: `README.md`\n  - Reusable Workflows / Composite Actions / Internal CI Workflows の詳細情報を削除\n  - `.github/workflows/README.md` と `.github/actions/README.md` への参照リンクを追加\n  - Internal CI Workflows セクションへの参照リンクも追加\n  - Purpose: ルート README を簡潔にし、詳細を各一覧 README に委譲\n  - _Leverage: Design ドキュメントの Component 6、タスク6・7で作成した README.md_\n  - _Requirements: 2.3, 2.4_\n  - _Prompt: Implement the task for spec rename-composite-and-create-docs, first run spec-workflow-guide to get the workflow guide then implement the task: Role: テクニカルライター | Task: ルート README.md をリファクタリングする。(1) Available Workflows セクション内の Reusable Workflows 詳細（inputs テーブル、コード例）を削除 (2) Composite Actions 詳細を削除 (3) Internal CI Workflows テーブルを削除 (4) 代わりに `.github/workflows/README.md`、`.github/actions/README.md`、Internal CI Workflows セクションへの参照リンクを追加。Overview, Usage（簡潔な形式説明のみ）, Development, Workflow Security Policy, Manual Setup Required セクションは維持 | Restrictions: 既存の Overview / Development / Security Policy / Manual Setup セクションを変更しない。Usage セクションの基本的な書式説明は残す | Success: README.md に Workflow/Action の詳細情報がなく、各一覧 README への参照リンクが存在すること。tasks.md でタスクを [-] に更新してから作業開始し、完了後 log-implementation で記録、[x] に更新すること_\n",
  "fileStats": {
    "size": 11755,
    "lines": 69,
    "lastModified": "2026-02-23T17:06:55.218Z"
  },
  "comments": []
}